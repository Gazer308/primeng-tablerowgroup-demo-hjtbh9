<div class="card">
  <h5>Subheader Grouping</h5>
  <p>Group customers by their representative.</p>
  <p-table
    [value]="customers"
    sortField="representative.name"
    sortMode="single"
    [scrollable]="true"
    rowGroupMode="subheader"
    groupRowsBy="service"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="min-width:200px">solution</th>
        <th style="min-width:200px">product</th>
        <th style="min-width:200px">select</th>
        <th style="min-width:200px">version</th>
        <th style="min-width:200px">import</th>
        <th style="min-width:200px">cost</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="groupheader" let-customer>
      <tr pRowGroupHeader>
        <td colspan="5">
          <span class="p-text-bold p-ml-2" style="margin-right: 50px">{{
            customer.service
          }}</span>
          <span class="p-text-bold p-ml-2" style="margin-right: 10px"
            >Repart:
          </span>
          <p-dropdown
            [options]="[]"
            [(ngModel)]="customer.repart"
            optionLabel="hola"
          ></p-dropdown>
        </td>
      </tr>
    </ng-template>
    <!-- <ng-template pTemplate="groupfooter" let-customer>
      <tr class="p-rowgroup-footer">
        <td style="min-width: 80%">
          <div style="text-align: right; width: 100%">Total</div>
        </td>
        <td style="width: 20%">{{ 100 }}</td>
      </tr>
    </ng-template> -->
    <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
      <tr>
        <td style="min-width:200px">
          {{ customer.solution }}
        </td>
        <td style="min-width:200px">
          {{ customer.product }}
        </td>
        <td style="min-width:200px">
          <p-checkbox
            binary="true"
            [(ngModel)]="customer.select"
            inputId="binary"
          ></p-checkbox>
        </td>
        <td style="min-width:200px">
          <p-dropdown
            [options]="[]"
            [(ngModel)]="customer.version"
            optionLabel="hola"
          ></p-dropdown>
        </td>
        <td style="min-width:200px">
          <p-inputNumber [(ngModel)]="customer.import"></p-inputNumber>
        </td>
        <td style="min-width:200px">
          <p-inputNumber [(ngModel)]="customer.cost"></p-inputNumber>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<div class="card">
  <h5>Expandable Row Groups</h5>
  <p>Group customers by their representative.</p>
  <p-table
    [value]="customers"
    dataKey="service"
    rowGroupMode="subheader"
    groupRowsBy="service"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>solution</th>
        <th>product</th>
        <th>select</th>
        <th>version</th>
        <th>import</th>
        <th>cost</th>
      </tr>
    </ng-template>
    <ng-template
      pTemplate="groupheader"
      let-customer
      let-rowIndex="rowIndex"
      let-expanded="expanded"
    >
      <tr>
        <td colspan="5">
          <button
            type="button"
            pButton
            pRipple
            [pRowToggler]="customer"
            class="p-button-text p-button-rounded p-button-plain p-mr-2"
            [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
          ></button>
          <span class="p-text-bold p-ml-2">{{ customer.service }}</span>
          <span class="p-text-bold p-ml-2" style="margin-right: 10px"
            >Repart:
          </span>
          <p-dropdown
            [options]="[]"
            [(ngModel)]="customer.repart"
            optionLabel="hola"
          ></p-dropdown>
        </td>
      </tr>
    </ng-template>
    <!-- <ng-template pTemplate="groupfooter" let-customer>
      <tr class="p-rowgroup-footer">
        <td colspan="4" style="text-align: right">Total Customers</td>
        <td>{{ calculateCustomerTotal(customer.representative.name) }}</td>
      </tr>
    </ng-template> -->
    <ng-template pTemplate="rowexpansion" let-customer>
      <tr>
        <td style="min-width:200px">
          {{ customer.solution }}
        </td>
        <td style="min-width:200px">
          {{ customer.product }}
        </td>
        <td style="min-width:200px">
          <p-checkbox
            binary="true"
            [(ngModel)]="customer.select"
            inputId="binary"
          ></p-checkbox>
        </td>
        <td style="min-width:200px">
          <p-dropdown
            [options]="[]"
            [(ngModel)]="customer.version"
            optionLabel="hola"
          ></p-dropdown>
        </td>
        <td style="min-width:200px">
          <p-inputNumber [(ngModel)]="customer.import"></p-inputNumber>
        </td>
        <td style="min-width:200px">
          <p-inputNumber [(ngModel)]="customer.cost"></p-inputNumber>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
